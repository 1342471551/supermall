{"remainingRequest":"/Users/wangyijie/trunks/vue/supermall/node_modules/babel-loader/lib/index.js!/Users/wangyijie/trunks/vue/supermall/src/store/actions.js","dependencies":[{"path":"/Users/wangyijie/trunks/vue/supermall/src/store/actions.js","mtime":1589855915671},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvd2FuZ3lpamllL3RydW5rcy92dWUvc3VwZXJtYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IHsgQUREX1RPX0NBUlQsIEFERF9DT1VOVEVSIH0gZnJvbSAnLi9tdXRhdGlvbi10eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvbGRQcm9kdWN0ID0gbnVsbDsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjb250ZXh0LnN0YXRlLmNhcnRMaXN0KSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoaXRlbS5paWQgPT09IHBheWxvYWQuaWlkKSB7CiAgICAgICAgICAgIG9sZFByb2R1Y3QgPSBpdGVtOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICBpZiAob2xkUHJvZHVjdCkgewogICAgICAgIC8vIG9sZFByb2R1Y3QuY291bnQgKz0gMQogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9DT1VOVEVSLCBvbGRQcm9kdWN0KTsKICAgICAgICByZXNvbHZlKCflvZPliY3llYblk4HmlbDph48rMScpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9UT19DQVJULCBwYXlsb2FkKTsKICAgICAgICByZXNvbHZlKCfmt7vliqDkuobmlrDnmoTllYblk4EnKTsKICAgICAgfSAvLyDlj6bkuIDnp43mlrnms5UKICAgICAgLy8gbGV0IHByb2R1Y3QxID0gc3RhdGUuY2FydExpc3QuZmluZChpdGVtID0+IGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZCkKCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/Users/wangyijie/trunks/vue/supermall/src/store/actions.js"],"names":["ADD_TO_CART","ADD_COUNTER","addCart","context","payload","Promise","resolve","reject","oldProduct","state","cartList","item","iid","commit"],"mappings":";;AAAA,SACEA,WADF,EAEEC,WAFF,QAGO,kBAHP;AAKA,eAAe;AACbC,EAAAA,OADa,mBACLC,OADK,EACIC,OADJ,EACa;AACxB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAIC,UAAU,GAAG,IAAjB;;AADsC,iDAErBL,OAAO,CAACM,KAAR,CAAcC,QAFO;AAAA;;AAAA;AAEtC,4DAAyC;AAAA,cAAhCC,IAAgC;;AACvC,cAAIA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAAzB,EAA8B;AAC5BJ,YAAAA,UAAU,GAAGG,IAAb;AACD;AACF;AANqC;AAAA;AAAA;AAAA;AAAA;;AAOtC,UAAIH,UAAJ,EAAgB;AACd;AACAL,QAAAA,OAAO,CAACU,MAAR,CAAeZ,WAAf,EAA4BO,UAA5B;AACAF,QAAAA,OAAO,CAAC,UAAD,CAAP;AACD,OAJD,MAIO;AACLH,QAAAA,OAAO,CAACU,MAAR,CAAeb,WAAf,EAA4BI,OAA5B;AACAE,QAAAA,OAAO,CAAC,SAAD,CAAP;AACD,OAdqC,CAgBtC;AACA;;AACD,KAlBM,CAAP;AAmBD;AArBY,CAAf","sourcesContent":["import {\n  ADD_TO_CART,\n  ADD_COUNTER\n} from './mutation-types'\n\nexport default {\n  addCart(context, payload) {\n    return new Promise((resolve, reject) => {\n      let oldProduct = null\n      for (let item of context.state.cartList) {\n        if (item.iid === payload.iid) {\n          oldProduct = item\n        }\n      }\n      if (oldProduct) {\n        // oldProduct.count += 1\n        context.commit(ADD_COUNTER, oldProduct)\n        resolve('当前商品数量+1')\n      } else {\n        context.commit(ADD_TO_CART, payload)\n        resolve('添加了新的商品')\n      }\n\n      // 另一种方法\n      // let product1 = state.cartList.find(item => item.iid === payload.iid)\n    })\n  }\n}\n"]}]}