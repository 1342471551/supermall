{"remainingRequest":"/Users/wangyijie/trunks/vue/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangyijie/trunks/vue/supermall/src/components/common/scroll/Scroll.vue?vue&type=style&index=0&id=ee08a44a&scoped=true&lang=css&","dependencies":[{"path":"/Users/wangyijie/trunks/vue/supermall/src/components/common/scroll/Scroll.vue","mtime":1586835259490},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi53cmFwcGVyIHsKICAvKm92ZXJmbG93OiBoaWRkZW47Ki8KfQo="},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA","file":"Scroll.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<template>\n  <!--  ref/children 拿到子组件-->\n  <div class=\"wrapper\" ref=\"wrapper\">\n    <div class=\"content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  import BScroll from 'better-scroll'\n\n  export default {\n    name: \"scroll\",\n    mounted() {\n      //1.创建BScroll对象\n      this.scroll = new BScroll(this.$refs.wrapper, {\n        probeType: this.probeType,\n        //默认使用BScroll无法监听按钮的点击事件\n        click: true,\n        //开启上拉加载更多\n        pullUpLoad: this.pullUpLoad\n      })\n\n      //  2.监听滚动位置\n      if (this.probeType === 2 || this.probeType === 3) {\n        this.scroll.on('scroll', position => {\n          // console.log(position);\n          this.$emit('scroll', position)\n        })\n      }\n\n      // 3.进行上拉加载更多\n      if (this.probeType === 2 || this.probeType === 3) {\n        this.scroll.on('pullingUp', () => {\n          this.$emit('pullingUp')\n          // console.log(\"-------\")\n          //加载完成 进行刷新 允许下次上拉\n        })\n      }\n    },\n    data() {\n      return {\n        scroll: null\n      }\n    },\n    methods: {\n      scrollTo(x, y, time = 300) {\n        this.scroll.scrollTo(x, y, time)\n      },\n      finishPullUp() {\n        this.scroll.finishPullUp()\n      },\n      refresh() {\n        //在执行刷新之前scroll对象还没有初始化完成\n        console.log('执行scroll刷新');\n        this.scroll && this.scroll.refresh()\n      }\n    },\n    props: {\n      probeType: {\n        type: Number,\n        default: 0\n      },\n      pullUpLoad: {\n        type: Boolean,\n        default: false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .wrapper {\n    /*overflow: hidden;*/\n  }\n</style>\n"]}]}