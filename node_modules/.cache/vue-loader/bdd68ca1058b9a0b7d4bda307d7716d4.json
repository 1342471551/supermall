{"remainingRequest":"/Users/wangyijie/trunks/vue/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangyijie/trunks/vue/supermall/src/components/common/scroll/Scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangyijie/trunks/vue/supermall/src/components/common/scroll/Scroll.vue","mtime":1586835259490},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyijie/trunks/vue/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNjcm9sbCIsCiAgbW91bnRlZCgpIHsKICAgIC8vMS7liJvlu7pCU2Nyb2xs5a+56LGhCiAgICB0aGlzLnNjcm9sbCA9IG5ldyBCU2Nyb2xsKHRoaXMuJHJlZnMud3JhcHBlciwgewogICAgICBwcm9iZVR5cGU6IHRoaXMucHJvYmVUeXBlLAogICAgICAvL+m7mOiupOS9v+eUqEJTY3JvbGzml6Dms5Xnm5HlkKzmjInpkq7nmoTngrnlh7vkuovku7YKICAgICAgY2xpY2s6IHRydWUsCiAgICAgIC8v5byA5ZCv5LiK5ouJ5Yqg6L295pu05aSaCiAgICAgIHB1bGxVcExvYWQ6IHRoaXMucHVsbFVwTG9hZAogICAgfSkKCiAgICAvLyAgMi7nm5HlkKzmu5rliqjkvY3nva4KICAgIGlmICh0aGlzLnByb2JlVHlwZSA9PT0gMiB8fCB0aGlzLnByb2JlVHlwZSA9PT0gMykgewogICAgICB0aGlzLnNjcm9sbC5vbignc2Nyb2xsJywgcG9zaXRpb24gPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHBvc2l0aW9uKTsKICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGwnLCBwb3NpdGlvbikKICAgICAgfSkKICAgIH0KCiAgICAvLyAzLui/m+ihjOS4iuaLieWKoOi9veabtOWkmgogICAgaWYgKHRoaXMucHJvYmVUeXBlID09PSAyIHx8IHRoaXMucHJvYmVUeXBlID09PSAzKSB7CiAgICAgIHRoaXMuc2Nyb2xsLm9uKCdwdWxsaW5nVXAnLCAoKSA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgncHVsbGluZ1VwJykKICAgICAgICAvLyBjb25zb2xlLmxvZygiLS0tLS0tLSIpCiAgICAgICAgLy/liqDovb3lrozmiJAg6L+b6KGM5Yi35pawIOWFgeiuuOS4i+asoeS4iuaLiQogICAgICB9KQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjcm9sbDogbnVsbAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsVG8oeCwgeSwgdGltZSA9IDMwMCkgewogICAgICB0aGlzLnNjcm9sbC5zY3JvbGxUbyh4LCB5LCB0aW1lKQogICAgfSwKICAgIGZpbmlzaFB1bGxVcCgpIHsKICAgICAgdGhpcy5zY3JvbGwuZmluaXNoUHVsbFVwKCkKICAgIH0sCiAgICByZWZyZXNoKCkgewogICAgICAvL+WcqOaJp+ihjOWIt+aWsOS5i+WJjXNjcm9sbOWvueixoei/mOayoeacieWIneWni+WMluWujOaIkAogICAgICBjb25zb2xlLmxvZygn5omn6KGMc2Nyb2xs5Yi35pawJyk7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIHByb2JlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBwdWxsVXBMb2FkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scroll.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<template>\n  <!--  ref/children 拿到子组件-->\n  <div class=\"wrapper\" ref=\"wrapper\">\n    <div class=\"content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  import BScroll from 'better-scroll'\n\n  export default {\n    name: \"scroll\",\n    mounted() {\n      //1.创建BScroll对象\n      this.scroll = new BScroll(this.$refs.wrapper, {\n        probeType: this.probeType,\n        //默认使用BScroll无法监听按钮的点击事件\n        click: true,\n        //开启上拉加载更多\n        pullUpLoad: this.pullUpLoad\n      })\n\n      //  2.监听滚动位置\n      if (this.probeType === 2 || this.probeType === 3) {\n        this.scroll.on('scroll', position => {\n          // console.log(position);\n          this.$emit('scroll', position)\n        })\n      }\n\n      // 3.进行上拉加载更多\n      if (this.probeType === 2 || this.probeType === 3) {\n        this.scroll.on('pullingUp', () => {\n          this.$emit('pullingUp')\n          // console.log(\"-------\")\n          //加载完成 进行刷新 允许下次上拉\n        })\n      }\n    },\n    data() {\n      return {\n        scroll: null\n      }\n    },\n    methods: {\n      scrollTo(x, y, time = 300) {\n        this.scroll.scrollTo(x, y, time)\n      },\n      finishPullUp() {\n        this.scroll.finishPullUp()\n      },\n      refresh() {\n        //在执行刷新之前scroll对象还没有初始化完成\n        console.log('执行scroll刷新');\n        this.scroll && this.scroll.refresh()\n      }\n    },\n    props: {\n      probeType: {\n        type: Number,\n        default: 0\n      },\n      pullUpLoad: {\n        type: Boolean,\n        default: false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .wrapper {\n    /*overflow: hidden;*/\n  }\n</style>\n"]}]}